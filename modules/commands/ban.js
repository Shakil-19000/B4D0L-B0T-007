module.exports.config={name:"bans",version:"1.0.0",hasPermssion:2,credits:"ManhG",description:"Cáº¥m ngÆ°á»i dÃ¹ng daÌ€nh riÃªng cho QTV BOX chat",commandCategory:"tiá»‡n Ã­ch",usages:"[ID or text] hoÄƒÌ£c tag@",cooldowns:5},module.exports.languages={vi:{reason:"LÃ½ do",at:"vÃ o lÃºc",allCommand:"toÃ n bá»™ lá»‡nh",commandList:"nhá»¯ng lá»‡nh",banSuccess:"[ Ban User ] ÄÃ£ xá»­ lÃ½ thÃ nh cÃ´ng yÃªu cáº§u cáº¥m ngÆ°á»i dÃ¹ng: %1",banCommandSuccess:"[ banCommand User ] ÄÃ£ xá»­ lÃ½ thÃ nh cÃ´ng yÃªu cáº§u cáº¥m lá»‡nh Ä‘á»‘i vá»›i ngÆ°á»i dÃ¹ng: %1",errorReponse:"%1 KhÃ´ng thá»ƒ hoÃ n táº¥t cÃ´ng viá»‡c báº¡n yÃªu cáº§u",IDNotFound:"%1 ID ngÆ°á»i dÃ¹ng báº¡n nháº­p khÃ´ng tá»“n táº¡i trong cÆ¡ sá»Ÿ dá»¯ liá»‡u",existBan:"[ Ban User ] NgÆ°á»i dÃ¹ng %1 Ä‘Ã£ bá»‹ ban tá»« trÆ°á»›c %2 %3",missingCommandInput:"%1 Pháº§n command cáº§n cáº¥m khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng!",returnBan:"[ Ban User ] Hiá»‡n táº¡i báº¡n Ä‘ang yÃªu cáº§u cáº¥m ngÆ°á»i dÃ¹ng:\n- ID vÃ  tÃªn ngÆ°á»i dÃ¹ng cáº§n cáº¥m: %1%2\n\nâ® Reaction tin nháº¯n nÃ y Ä‘á»ƒ xÃ¡c thá»±c â¯",returnBanCommand:"[ banCommand User ] Hiá»‡n táº¡i báº¡n Ä‘ang yÃªu cáº§u cáº¥m sá»­ dá»¥ng lá»‡nh Ä‘á»‘i vá»›i ngÆ°á»i dÃ¹ng:\n - ID vÃ  tÃªn ngÆ°á»i dÃ¹ng cáº§n cáº¥m: %1\n- CÃ¡c lá»‡nh cáº§n cáº¥m: %2\n\nâ® Reaction tin nháº¯n nÃ y Ä‘á»ƒ xÃ¡c thá»±c â¯",returnResult:"ÄÃ¢y lÃ  káº¿t quáº£ phÃ¹ há»£p: \n",returnNull:"KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£ dá»±a vÃ o tÃ¬m kiáº¿m cá»§a báº¡n!",returnList:"[ User List ]\nHiá»‡n táº¡i Ä‘ang cÃ³ %1 ngÆ°á»i dÃ¹ng bá»‹ ban, dÆ°á»›i Ä‘Ã¢y lÃ  %2 ngÆ°á»i dÃ¹ng\n\n%3",returnInfo:"[ Info User ] ÄÃ¢y lÃ  má»™t sÃ´ thÃ´ng tin vá» ngÆ°á»i dÃ¹ng báº¡n cáº§n tÃ¬m:\n- ID vÃ  tÃªn cá»§a ngÆ°á»i dÃ¹ng: %1n- CÃ³ bá»‹ ban?: %2 %3 %4\n- Bá»‹ ban lá»‡nh?: %5"},en:{reason:"Reason",at:"At",allCommand:"All commands",commandList:"Commands",banSuccess:"🌺🦋আপনাকে ব্যান করা কমপ্লিট এখন বিড়ি খান বসে বসে🦋🌺: %1",banCommandSuccess:"[ banCommand User ] Banned command with user: %1",errorReponse:"%1 Can't do what you request",IDNotFound:"%1 ID you import doesn't exist in database",existBan:"[ Ban User ] User %1 has been banned before %2 %3",missingCommandInput:"%1 You have to import the command you want to ban!",returnBan:"🌺🦋[ব্যান ব্যবহারকার] আপনি ব্যবহারকারীকে নিষিদ্ধ করার অনুরোধ করছেন🦋🌺:\n-🌺🦋ইউজার আইডি এবং নাম যাকে আপনি নিষিদ্ধ করতে চান🦋🌺: %1%2\n\n🌺🦋এই বার্তা সম্পূর্ণ করার জন্য প্রতিক্রিয়া🦋🌺¯",returnBanCommand:"[ banCommand User ] You are requesting to ban command with user:\n - User ID and name who you want to ban: %1\n- Commands: %2\n\nâ® Reaction this message to complete â¯",returnResult:"This is your result: \n",returnNull:"There is no result with your input!",returnList:"[ User List ]There are %1 banned user, here are %2 user\n\n%3",returnInfo:"[ Info User ] Here is some information about the user who you want to find:\n- User ID and name: %1n- Banned?: %2 %3 %4\n- Command banned?: %5"}},module.exports.handleReaction=async({event:n,api:e,Users:a,handleReaction:t,getText:s})=>{if(parseInt(n.userID)!==parseInt(t.author))return;const r=require("moment-timezone"),{threadID:o}=n,{messageID:i,type:d,targetID:m,reason:u,nameTarget:g}=t,c=r.tz("Asia/Ho_Chi_minh").format("HH:MM:ss L");if(global.client.handleReaction.splice(global.client.handleReaction.findIndex((n=>n.messageID==i)),1),"ban"===d)try{let n=(await a.getData(m)).data||{};return n.banned=!0,n.reason=u||null,n.dateAdded=c,await a.setData(m,{data:n}),global.data.userBanned.set(m,{reason:n.reason,dateAdded:n.dateAdded}),e.sendMessage(s("banSuccess",`${m} - ${g}`),o,(()=>e.unsendMessage(i)))}catch{return e.sendMessage(s("errorReponse","[ Ban User ]"),o)}},module.exports.run=async({event:n,api:e,args:a,Users:t,getText:s})=>{const{threadID:r,messageID:o}=n;var i=String(a[0]),d=a.slice(2,a.length).join(" ")||null;if(isNaN(i)){const e=Object.keys(n.mentions);a=a.join(" "),i=String(e[0]),d=a.slice(a.indexOf(n.mentions[e[0]])+(n.mentions[e[0]]||"").length+1,a.length)||null}if(!global.data.allUserID.includes(i))return e.sendMessage(s("IDNotFound","[ Ban User ]"),r,o);if(global.data.userBanned.has(i)){const{reason:n,dateAdded:a}=global.data.userBanned.get(i)||{};return e.sendMessage(s("existBan",i,n?`${s("reason")}: "${n}"`:"",a?`${s("at")} ${a}`:""),r,o)}const m=global.data.userName.get(i)||await t.getNameUser(i);return e.sendMessage(s("returnBan",`${i} - ${m}`,d?`\n- ${s("reason")}: ${d}`:""),r,((e,a)=>{global.client.handleReaction.push({type:"ban",targetID:i,reason:d,nameTarget:m,name:this.config.name,messageID:a.messageID,author:n.senderID})}),o)};